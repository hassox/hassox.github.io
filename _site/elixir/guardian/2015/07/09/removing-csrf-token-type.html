<!DOCTYPE html>
<html>
  <head>
    <!-- Niklas Buschmann 2015 MIT <http://github.com/niklasbuschmann> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    
    <meta name="description" content="Tech and Stuff">
    <title> Removing CSRF token type › Stuff 'n Things</title>
    <link rel="canonical" href="http://hassox.github.io/elixir/guardian/2015/07/09/removing-csrf-token-type.html">
    <link href="/main.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,200italic,300italic,400italic,600italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Gentium+Basic:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css' rel='stylesheet' type='text/css'>
    <link rel="alternate" type="application/rss+xml" title="Stuff 'n Things &raquo; Feed" href="/feed.xml">
    <script src="//hassox.disqus.com/embed.js" async></script>
    
  </head>
  <body>
    <header>
      <h1><a href="/">Stuff 'n Things</a></h1>
      <nav>
        <ul>
          <li><a href="/">Home</a></li><li><a href="/archive.html">Archive</a></li>
        </ul>
      </nav>
    </header>
    
    
    <article>
      <header>
        <h2><a href="/elixir/guardian/2015/07/09/removing-csrf-token-type.html">Removing CSRF token type</a></h2>
        <p><time datetime="2015-07-09T00:00:00-07:00">Jul 9, 2015</time> • elixir and guardian</p>
      </header>
      <div>
<p>Recently masked CSRF tokens have shown up in Phoenix. Masked CSRF tokens are an
important feature to prevent against the <a href="http://breachattack.com/">BREACH attack</a>.</p>

<p>Unfortunately masked tokens are incompatible with the way Guardian was using
them. It’s not all bad though, working through it, it turns out that the way
Guardian was putting the CSRF into the JWT wasn’t actually buying much in terms
of security. Since you need both pieces of information to connect to a channel,
you essentially have the lock and key and can reply the token.</p>

<p>After reviewing it I’ve decided to remove the functionality from Guardian. From
here it’s clear that there needs to be a more robust solution for revoking
tokens. That’ll be the focus of the next round of work on Guardian.</p>

      </div>
      
      
      <div id="disqus_thread"></div>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
    </article>

    <footer>
      <span><a href="http://hassox.github.io">Daniel Neighman</a></span>
      <span><a href="https://github.com/hassox/"><i class="fa fa-github-square"></i></a><a href="https://twitter.com/hassox/"><i class="fa fa-twitter-square"></i></a></span>
      <span>&copy; 2015</span>
    </footer>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-64645312-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
